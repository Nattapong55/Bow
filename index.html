<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>üîÆ Cosmic Tarot AI</title>

<style>

body{
    margin:0;
    font-family:sans-serif;
    background: radial-gradient(circle,#3b0764,#020617);
    color:white;
    text-align:center;
}

.magic{
    position:fixed;
    width:100%;
    height:100%;
    background: radial-gradient(circle, rgba(168,85,247,0.4) 0%, transparent 60%);
    opacity:0;
    transition:1s;
    pointer-events:none;
}

.magic.show{
    opacity:1;
}

button{
    padding:14px 24px;
    border:none;
    border-radius:12px;
    background:#9333ea;
    color:white;
    font-size:18px;
}

#cards{
    display:flex;
    justify-content:center;
    flex-wrap:wrap;
    gap:20px;
    margin-top:30px;
}

.card{
    width:140px;
    height:230px;
    perspective:1000px;
}

.inner{
    width:100%;
    height:100%;
    transform-style:preserve-3d;
    transition:0.8s;
    position:relative;
}

.flip{
    transform:rotateY(180deg);
}

.front,.back{
    position:absolute;
    width:100%;
    height:100%;
    backface-visibility:hidden;
    border-radius:12px;
}

.front{
    background:url("card-back.png") center/cover;
}

.back{
    transform:rotateY(180deg);
}

.back img{
    width:100%;
    height:100%;
    border-radius:12px;
}

.reversed{
    transform:rotate(180deg);
}

</style>
</head>

<body>

<div class="magic" id="magic"></div>

<h1>üîÆ ‡πÑ‡∏û‡πà‡∏ó‡∏≤‡πÇ‡∏£‡∏ï‡πå‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏• üîÆ</h1>

<input id="question" placeholder="‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°..." style="padding:10px;border-radius:10px;border:none;">
<br><br>
<button onclick="start()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà</button>

<div id="cards"></div>

<div id="result" style="max-width:700px;margin:auto;margin-top:20px;"></div>

<script>

/* =====================
   ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå
===================== */

const shuffleSound = new Audio("shuffle.mp3");
const flipSound = new Audio("flip.mp3");
const windSound = new Audio("wind.mp3");

/* =====================
   ‡πÑ‡∏û‡πà
===================== */

const deck = [
"The_Fool.png","The_Magician.png","The_High_Priestess.png",
"The_Empress.png","The_Emperor.png","The_Lovers.png",
"The_Chariot.png","Strength.png","The_Hermit.png",
"Wheel_of_Fortune.png","Justice.png","The_Hanged_Man.png",
"Death.png","Temperance.png","The_Devil.png",
"The_Tower.png","The_Star.png","The_Moon.png",
"The_Sun.png","Judgement.png","The_World.png"
];

let selected = 0;
let chosen = [];

/* =====================
   ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÅ‡∏™‡∏á
===================== */

function flashMagic(){
    const m = document.getElementById("magic");
    m.classList.add("show");
    setTimeout(()=>m.classList.remove("show"),1000);
}

/* =====================
   AI Voice ‡∏ü‡∏£‡∏µ
===================== */

function speakAI(text){

    const speech = new SpeechSynthesisUtterance(text);

    speech.lang = "th-TH"; // ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
    speech.rate = 0.9;
    speech.pitch = 1.1;

    const voices = speechSynthesis.getVoices();

    const thaiVoice = voices.find(v => v.lang.includes("th"));

    if(thaiVoice){
        speech.voice = thaiVoice;
    }

    speechSynthesis.speak(speech);
}

/* =====================
   ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
===================== */

function start(){

    shuffleSound.play();

    selected = 0;
    chosen = [];

    document.getElementById("result").innerHTML = "";
    const cardsDiv = document.getElementById("cards");
    cardsDiv.innerHTML = "";

    let shuffled = [...deck].sort(()=>Math.random()-0.5).slice(0,6);

    shuffled.forEach(name=>{

        const card = document.createElement("div");
        card.className="card";

        const inner = document.createElement("div");
        inner.className="inner";

        const front = document.createElement("div");
        front.className="front";

        const back = document.createElement("div");
        back.className="back";

        const img = document.createElement("img");
        img.src = name;

        back.appendChild(img);
        inner.appendChild(front);
        inner.appendChild(back);
        card.appendChild(inner);

        card.onclick=()=>pick(inner,name,img);

        cardsDiv.appendChild(card);

    });

}

/* =====================
   ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà
===================== */

function pick(inner,name,img){

    if(selected>=3) return;

    flipSound.play();
    flashMagic();

    inner.classList.add("flip");

    let reversed = Math.random()<0.5;

    if(reversed){
        img.classList.add("reversed");
    }

    chosen.push({
        name:name.replace(".png",""),
        reversed:reversed
    });

    selected++;

    if(selected===3){

        setTimeout(()=>{
            windSound.play();
            analyze();
        },1000);

    }

}

/* =====================
   AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå
===================== */

function generateAI(){

return `
‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏±‡∏á‡πÄ‡∏≠‡∏¥‡∏ç
‡πÅ‡∏ï‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ

‡∏≠‡∏î‡∏µ‡∏ï‡πÑ‡∏î‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á
‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏á‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à
‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏°‡πà‡∏£‡∏≠‡∏≠‡∏¢‡∏π‡πà

‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏≠‡∏≤‡∏à‡∏°‡∏≤‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏Ñ‡∏≤‡∏î‡∏Ñ‡∏¥‡∏î
‡∏≠‡∏¢‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ß‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏™‡∏π‡πà‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤

‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏†‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏Ñ‡∏∏‡∏ì
‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏•‡πâ‡∏≤‡∏Å‡πâ‡∏≤‡∏ß‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å comfort zone

‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏°‡∏µ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤
‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï
‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏µ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ö‡∏ß‡∏Å

‡∏à‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà
`;
}

/* =====================
   ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå
===================== */

function analyze(){

    const q = document.getElementById("question").value || "‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï";

    let text = "üîÆ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà üîÆ\n\n";

    const pos = ["‡∏≠‡∏î‡∏µ‡∏ï","‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô","‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï"];

    chosen.forEach((c,i)=>{
        text += pos[i]+" : "+c.name+(c.reversed?" (‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß)":"")+"\n";
    });

    text += "\n"+generateAI();

    document.getElementById("result").innerText = text;

    speakAI(text);
}

</script>

</body>
</html>
