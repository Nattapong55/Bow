<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tarot Reading üîÆ</title>

<style>

body{
    margin:0;
    font-family:'Prompt',sans-serif;
    background: radial-gradient(circle at top,#0d001a,#1a0033,#330066);
    color:white;
    text-align:center;
    overflow-x:hidden;
}

/* ‡∏î‡∏≤‡∏ß */
.star{
    position:absolute;
    width:2px;
    height:2px;
    background:white;
    border-radius:50%;
    animation:twinkle 2s infinite alternate;
}

@keyframes twinkle{
    from{opacity:.2}
    to{opacity:1}
}

.container{
    padding:20px;
}

button{
    padding:12px 25px;
    border:none;
    border-radius:25px;
    background:linear-gradient(45deg,#7b2cff,#ff4fd8);
    color:white;
    font-size:18px;
    cursor:pointer;
    margin:10px;
    box-shadow:0 0 15px #ff99ff;
}

/* deck */
.deck{
    width:120px;
    height:180px;
    margin:20px auto;
    position:relative;
}

.deck div{
    position:absolute;
    inset:0;
    background:linear-gradient(45deg,#2b004f,#5c0099);
    border-radius:10px;
    border:2px solid #c266ff;
}

.shuffle{
    animation:shuffle 1s infinite alternate;
}

@keyframes shuffle{
    from{transform:translateX(-20px) rotate(-5deg)}
    to{transform:translateX(20px) rotate(5deg)}
}

/* cards */
.cards{
    display:flex;
    justify-content:center;
    gap:20px;
    flex-wrap:wrap;
    margin-top:30px;
}

.card{
    width:150px;
    height:240px;
    perspective:1000px;
    cursor:pointer;
    box-shadow:0 0 25px #c266ff;
}

.inner{
    width:100%;
    height:100%;
    position:relative;
    transform-style:preserve-3d;
    transition:1s;
}

.card.flip .inner{
    transform:rotateY(180deg);
}

.front,.back{
    position:absolute;
    inset:0;
    border-radius:10px;
    backface-visibility:hidden;
}

.front{
    background:linear-gradient(45deg,#1a0033,#6600cc);
    border:2px solid #aaa;
}

.back{
    transform:rotateY(180deg);
    background-size:cover;
    background-position:center;
}

#meaning{
    margin-top:20px;
    max-width:600px;
    margin-left:auto;
    margin-right:auto;
    line-height:1.6;
    color:#ffd6ff;
}

/* magic */
.magic{
    position:absolute;
    width:6px;
    height:6px;
    background:#ff99ff;
    border-radius:50%;
    animation:float 3s linear forwards;
}

@keyframes float{
    to{transform:translateY(-200px);opacity:0}
}

</style>
</head>

<body>

<div class="container">

<h1>üîÆ ‡∏û‡∏¥‡∏ò‡∏µ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà‡∏ó‡∏≤‡πÇ‡∏£‡∏ï‡πå üîÆ</h1>

<p>‡∏ï‡∏±‡πâ‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏¥‡∏ò‡∏µ</p>

<button onclick="startRitual()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏¥‡∏ò‡∏µ</button>

<div class="deck" id="deck">
<div></div>
</div>

<div class="cards" id="cards"></div>

<div id="meaning"></div>

</div>

<audio id="magicSound">
<source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_115b9b1d7c.mp3">
</audio>

<script>

/* ‡∏î‡∏≤‡∏ß */
for(let i=0;i<120;i++){
    let s=document.createElement("div");
    s.className="star";
    s.style.left=Math.random()*100+"%";
    s.style.top=Math.random()*100+"%";
    document.body.appendChild(s);
}

/* ===== ‡πÑ‡∏û‡πà 78 ‡πÉ‡∏ö ===== */

const tarotNames = [
"The Fool","The Magician","The High Priestess","The Empress","The Emperor",
"The Hierophant","The Lovers","The Chariot","Strength","The Hermit",
"Wheel of Fortune","Justice","The Hanged Man","Death","Temperance",
"The Devil","The Tower","The Star","The Moon","The Sun",
"Judgement","The World"
];

const suits=["Cups","Pentacles","Swords","Wands"];
const ranks=["Ace","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Page","Knight","Queen","King"];

suits.forEach(s=>{
    ranks.forEach(r=>{
        tarotNames.push(r+" of "+s);
    });
});

/* ===== ‡∏†‡∏≤‡∏û‡πÑ‡∏û‡πà (‡∏ù‡∏±‡∏á‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î) ===== */

const tarotImage = "https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/RWS_Tarot_00_Fool.jpg/512px-RWS_Tarot_00_Fool.jpg";

/* ===== ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏¥‡∏ò‡∏µ ===== */

function startRitual(){

    speak("‡∏à‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏à‡∏¥‡∏ï‡πÉ‡∏´‡πâ‡∏™‡∏á‡∏ö ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà‡∏™‡∏≤‡∏°‡πÉ‡∏ö");

    document.getElementById("deck").classList.add("shuffle");

    setTimeout(()=>{
        document.getElementById("deck").classList.remove("shuffle");
        createCards();
    },2000);
}

/* ===== ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏û‡πà ===== */

let selected=0;

function createCards(){

    selected=0;

    const container=document.getElementById("cards");
    container.innerHTML="";
    document.getElementById("meaning").innerHTML="";

    for(let i=0;i<6;i++){

        let name=tarotNames[Math.floor(Math.random()*tarotNames.length)];

        let card=document.createElement("div");
        card.className="card";

        card.innerHTML=`
        <div class="inner">
            <div class="front"></div>
            <div class="back"></div>
        </div>`;

        card.onclick=()=>pickCard(card,name);

        container.appendChild(card);
    }
}

/* ===== ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ===== */

function pickCard(card,name){

    if(selected>=3) return;

    selected++;

    let reversed=Math.random()<0.5;

    reveal(card,name,reversed);

    if(selected===3){
        speak("‡πÑ‡∏û‡πà‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≤‡∏°‡πÉ‡∏ö‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡πÅ‡∏•‡πâ‡∏ß");
    }
}

/* ===== ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà ===== */

function reveal(el,name,reversed){

    document.getElementById("magicSound").play();

    el.classList.add("flip");

    let back=el.querySelector(".back");
    back.style.backgroundImage=`url(${tarotImage})`;

    if(reversed){
        back.style.transform="rotateY(180deg) rotate(180deg)";
    }

    let pos=["‡∏≠‡∏î‡∏µ‡∏ï","‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô","‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï"][selected-1];

    let text=`
    <h3>${pos}</h3>
    <b>${name}</b> ${reversed?"(‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß)":""}
    <br><br>
    ‡πÑ‡∏û‡πà‡πÉ‡∏ö‡∏ô‡∏µ‡πâ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á${pos}
    <hr>
    `;

    document.getElementById("meaning").innerHTML+=text;

    magic(el);
}

/* ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå */
function magic(el){

    for(let i=0;i<15;i++){

        let m=document.createElement("div");
        m.className="magic";

        let rect=el.getBoundingClientRect();

        m.style.left=rect.left+rect.width/2+"px";
        m.style.top=rect.top+rect.height/2+"px";

        document.body.appendChild(m);

        setTimeout(()=>m.remove(),3000);
    }
}

/* ‡πÄ‡∏™‡∏µ‡∏¢‡∏á */
function speak(text){

    let msg=new SpeechSynthesisUtterance(text);
    msg.lang="th-TH";
    speechSynthesis.speak(msg);
}

</script>

</body>
</html>
