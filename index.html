<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>üîÆ Cosmic Tarot AI</title>

<style>

body{
    margin:0;
    font-family:sans-serif;
    background: radial-gradient(circle,#3b0764,#020617);
    color:white;
    text-align:center;
    overflow-x:hidden;
}

/* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏ß‡∏ó */
.magic{
    position:fixed;
    width:100%;
    height:100%;
    background: radial-gradient(circle, rgba(168,85,247,0.4) 0%, transparent 60%);
    opacity:0;
    transition:1s;
    pointer-events:none;
}
.magic.show{opacity:1;}

/* Loading */
.loading{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.85);
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    font-size:22px;
    z-index:9999;
    display:none;
}

.spinner{
    width:60px;
    height:60px;
    border:5px solid #9333ea;
    border-top:5px solid transparent;
    border-radius:50%;
    animation:spin 1s linear infinite;
    margin-bottom:20px;
}

@keyframes spin{
    to{transform:rotate(360deg);}
}

button{
    padding:14px 24px;
    border:none;
    border-radius:12px;
    background:#9333ea;
    color:white;
    font-size:18px;
}

/* ‡πÑ‡∏û‡πà */
#cards{
    display:flex;
    justify-content:center;
    flex-wrap:wrap;
    gap:20px;
    margin-top:30px;
}

.card{
    width:140px;
    height:230px;
    perspective:1000px;
    position:relative;
    animation:floatCard 4s ease-in-out infinite;
}

@keyframes floatCard{
    0%{transform:translateY(0)}
    50%{transform:translateY(-12px)}
    100%{transform:translateY(0)}
}

.inner{
    width:100%;
    height:100%;
    transform-style:preserve-3d;
    transition:0.8s;
    position:relative;
}

.card:hover .inner{
    transform:scale(1.07);
    box-shadow:
        0 0 30px gold,
        0 0 60px #a855f7,
        0 0 100px #9333ea;
}

.flip{ transform:rotateY(180deg); }

.front,.back{
    position:absolute;
    width:100%;
    height:100%;
    border-radius:12px;
    backface-visibility:hidden;
    overflow:hidden;
    border:2px solid gold;
}

/* ‚úÖ ‡∏õ‡∏Å‡πÑ‡∏û‡πà (‡πÅ‡∏Å‡πâ‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß) */
.front{
    background:url("13D5B6B3-91B5-4A63-BFEC-C09AF3BDD8BA.png") center/cover no-repeat;
}

/* ‡πÑ‡∏û‡πà‡∏à‡∏£‡∏¥‡∏á */
.back{
    transform:rotateY(180deg);
}

.back img{
    width:100%;
    height:100%;
    object-fit:cover;
}

.reversed{
    transform:rotate(180deg);
}

/* ‚ú® ‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡πÅ‡∏™‡∏á */
.glow{
    box-shadow:
        0 0 20px gold,
        0 0 40px #a855f7,
        0 0 70px #9333ea;
}

/* ‚ú® ‡πÑ‡∏û‡πà‡∏™‡∏±‡πà‡∏ô */
@keyframes shake{
    0%{transform:translate(0,0)}
    25%{transform:translate(2px,-2px)}
    50%{transform:translate(-2px,2px)}
    75%{transform:translate(2px,2px)}
    100%{transform:translate(0,0)}
}
.shake{
    animation:shake 0.4s infinite;
}

/* ‚ú® ‡πÅ‡∏™‡∏á‡∏ß‡∏¥‡πà‡∏á‡∏£‡∏≠‡∏ö */
.lightRun{
    position:absolute;
    inset:-3px;
    border-radius:14px;
    pointer-events:none;
    background:linear-gradient(90deg,transparent,gold,transparent);
    background-size:200%;
    animation:run 1.2s linear infinite;
}
@keyframes run{
    from{background-position:0%}
    to{background-position:200%}
}

/* ‚ú® ‡∏ù‡∏∏‡πà‡∏ô‡∏ß‡∏¥‡∏ç‡∏ç‡∏≤‡∏ì */
.particle{
    position:absolute;
    width:6px;
    height:6px;
    background:#c084fc;
    border-radius:50%;
    opacity:0.8;
    animation:float 2s linear infinite;
}
@keyframes float{
    from{transform:translateY(0) scale(1);opacity:1}
    to{transform:translateY(-120px) scale(0.3);opacity:0}
}

/* ‚≠ê ‡∏î‡∏≤‡∏ß‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á */
.star{
    position:fixed;
    width:3px;
    height:3px;
    background:white;
    border-radius:50%;
    opacity:0.8;
    animation:twinkle 2s infinite ease-in-out;
    pointer-events:none;
}

@keyframes twinkle{
    0%,100%{opacity:0.2;transform:scale(1)}
    50%{opacity:1;transform:scale(1.8)}
}

/* üîÆ ‡∏ß‡∏á‡πÄ‡∏ß‡∏ó‡∏´‡∏°‡∏∏‡∏ô */
.aura{
    position:fixed;
    width:600px;
    height:600px;
    border-radius:50%;
    background:radial-gradient(circle,rgba(168,85,247,0.15),transparent 70%);
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    animation:rotateAura 40s linear infinite;
    pointer-events:none;
}

@keyframes rotateAura{
    from{transform:translate(-50%,-50%) rotate(0deg)}
    to{transform:translate(-50%,-50%) rotate(360deg)}
}

</style>
</head>

<body>

<div class="aura"></div>

<div class="magic" id="magic"></div>

<div class="loading" id="loading">
    <div class="spinner"></div>
    <div id="loadingText">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•...</div>
</div>

<h1>üîÆ ‡πÑ‡∏û‡πà‡∏ó‡∏≤‡πÇ‡∏£‡∏ï‡πå‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏• üîÆ</h1>

<input id="question" placeholder="‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°..."
style="padding:10px;border-radius:10px;border:none;">
<br><br>

<button onclick="start()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà</button>

<div id="cards"></div>

<div id="result" style="max-width:700px;margin:auto;margin-top:20px;"></div>

<script>

const deck = [
"The_Fool.png","The_Magician.png","The_High_Priestess.png",
"The_Empress.png","The_Emperor.png","The_Lovers.png",
"The_Chariot.png","Strength.png","The_Hermit.png",
"Wheel_of_Fortune.png","Justice.png","The_Hanged_Man.png",
"Death.png","Temperance.png","The_Devil.png",
"The_Tower.png","The_Star.png","The_Moon.png",
"The_Sun.png","Judgement.png","The_World.png"
];

let selected = 0;
let chosen = [];

function flashMagic(){
    const m = document.getElementById("magic");
    m.classList.add("show");
    setTimeout(()=>m.classList.remove("show"),1000);
}

function speakAI(text){
    const speech = new SpeechSynthesisUtterance(text);
    speech.lang = "th-TH";
    speech.rate = 0.85;
    speech.pitch = 1.15;
    speechSynthesis.cancel();
    speechSynthesis.speak(speech);
}

function showLoading(text){
    const load = document.getElementById("loading");
    document.getElementById("loadingText").innerText = text;
    load.style.display = "flex";
}

function hideLoading(){
    document.getElementById("loading").style.display = "none";
}

function start(){

    speakAI("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏±‡∏ö‡πÑ‡∏û‡πà ‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏°‡∏≤‡∏ò‡∏¥");

    selected = 0;
    chosen = [];

    document.getElementById("result").innerHTML = "";
    const cardsDiv = document.getElementById("cards");
    cardsDiv.innerHTML = "";

    let shuffled = [...deck].sort(()=>Math.random()-0.5).slice(0,6);

    setTimeout(()=>{

        speakAI("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà‡∏™‡∏≤‡∏°‡πÉ‡∏ö ‡∏ï‡∏≤‡∏°‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏ç‡∏≤‡∏ì‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì");

        shuffled.forEach(name=>{

            const card = document.createElement("div");
            card.className="card";

            const inner = document.createElement("div");
            inner.className="inner";

            const front = document.createElement("div");
            front.className="front";

            const back = document.createElement("div");
            back.className="back";

            const img = document.createElement("img");
            img.src = name;

            back.appendChild(img);
            inner.appendChild(front);
            inner.appendChild(back);
            card.appendChild(inner);

            card.onclick=()=>pick(card,inner,name,img);

            cardsDiv.appendChild(card);

        });

    },1200);

}

/* ‡∏ù‡∏∏‡πà‡∏ô */
function createParticles(card){
    for(let i=0;i<12;i++){
        const p=document.createElement("div");
        p.className="particle";
        p.style.left=Math.random()*100+"%";
        p.style.bottom="0px";
        card.appendChild(p);
        setTimeout(()=>p.remove(),2000);
    }
}

function pick(card,inner,name,img){

    if(selected>=3) return;

    flashMagic();

    inner.classList.add("glow","shake");

    const light=document.createElement("div");
    light.className="lightRun";
    card.appendChild(light);

    createParticles(card);

    setTimeout(()=>{
        inner.classList.remove("shake");
        inner.classList.add("flip");
        light.remove();
    },600);

    let reversed = Math.random()<0.5;
    if(reversed) img.classList.add("reversed");

    chosen.push({
        name:name.replace(".png","").replaceAll("_"," "),
        reversed:reversed
    });

    selected++;

    if(selected===3){
        setTimeout(()=>{
            showLoading("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•...");
            speakAI("‡∏â‡∏±‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•");

            setTimeout(()=>{
                hideLoading();
                analyze();
            },2500);

        },1000);
    }
}

function generateAI(card){

return `‚ú® ‡πÑ‡∏û‡πà ${card} ‡πÑ‡∏î‡πâ‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì ‚ú®

‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏µ‡πâ
‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ú‡∏ä‡∏¥‡∏ç‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏±‡∏á‡πÄ‡∏≠‡∏¥‡∏ç
‡πÅ‡∏ï‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï

‡πÑ‡∏û‡πà‡πÉ‡∏ö‡∏ô‡∏µ‡πâ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏à‡∏¥‡∏ï‡πÉ‡∏à
‡πÅ‡∏•‡∏∞‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÉ‡∏Å‡∏•‡πâ

‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏™‡∏±‡∏ö‡∏™‡∏ô‡πÉ‡∏ô‡∏ö‡∏≤‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á
‡πÅ‡∏ï‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô

‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏µ‡πâ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏ç‡∏≤‡∏ì‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•
‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏•‡∏∂‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡∏Ñ‡∏∏‡∏ì

‡πÉ‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å ‡πÑ‡∏û‡πà‡∏ö‡∏≠‡∏Å‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤
‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á

‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô ‡∏°‡∏µ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô
‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏•‡πâ‡∏≤‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à

‡∏î‡πâ‡∏≤‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï ‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏ä‡πà‡∏ß‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï

‡∏™‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠
‡∏à‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á

‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏™‡∏°‡∏≠`;
}

function analyze(){

    let text = "üîÆ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà üîÆ\n\n";
    const pos = ["‡∏≠‡∏î‡∏µ‡∏ï","‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô","‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï"];

    chosen.forEach((c,i)=>{
        text += pos[i]+" : "+c.name+(c.reversed?" (‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß)":"")+"\n";
    });

    text += "\n"+generateAI(chosen[0].name);

    document.getElementById("result").innerText = text;
    speakAI(text);
}

/* ‚≠ê ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡∏≤‡∏ß */
function createStars(){
    for(let i=0;i<70;i++){
        const star=document.createElement("div");
        star.className="star";
        star.style.left=Math.random()*100+"%";
        star.style.top=Math.random()*100+"%";
        star.style.animationDelay=Math.random()*2+"s";
        document.body.appendChild(star);
    }
}
createStars();

</script>

</body>
</html>
