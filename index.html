<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>üîÆ Cosmic Tarot AI</title>

<style>

body{
    margin:0;
    font-family:sans-serif;
    background: radial-gradient(circle,#3b0764,#020617);
    color:white;
    text-align:center;
    overflow-x:hidden;
}

/* ‡∏î‡∏≤‡∏ß */
body::before{
    content:"";
    position:fixed;
    inset:0;
    background-image:
        radial-gradient(2px 2px at 20% 30%,#fff,transparent),
        radial-gradient(2px 2px at 70% 60%,#fff,transparent),
        radial-gradient(1px 1px at 40% 80%,#fff,transparent);
    opacity:0.3;
    animation:stars 8s linear infinite;
}
@keyframes stars{
    from{transform:translateY(0)}
    to{transform:translateY(-40px)}
}

/* ‡∏ß‡∏á‡πÑ‡∏û‡πà */
#cards{
    position:relative;
    width:min(520px,90vw);
    height:min(520px,90vw);
    margin:40px auto;
    animation:rotateRing 30s linear infinite;
}
@keyframes rotateRing{
    from{transform:rotate(0deg)}
    to{transform:rotate(360deg)}
}

/* ‡πÑ‡∏û‡πà */
.card{
    width:120px;
    height:200px;
    position:absolute;
    left:50%;
    top:50%;
    transform-origin:center -230px;
    perspective:1000px;
    transition:1s;
}

/* ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏ß‡∏á‡πÄ‡∏ß‡∏ó */
.card::before{
    content:"";
    position:absolute;
    left:50%;
    top:50%;
    width:160px;
    height:160px;
    transform:translate(-50%,-50%);
    border-radius:50%;
    background:conic-gradient(#9333ea,#facc15,#9333ea);
    filter:blur(20px);
    opacity:0.6;
    animation:spin 6s linear infinite;
    z-index:-1;
}
@keyframes spin{
    from{transform:translate(-50%,-50%) rotate(0)}
    to{transform:translate(-50%,-50%) rotate(360deg)}
}

.inner{
    width:100%;
    height:100%;
    transform-style:preserve-3d;
    transition:0.8s;
    position:relative;
}
.flip{ transform:rotateY(180deg); }

.front,.back{
    position:absolute;
    width:100%;
    height:100%;
    border-radius:14px;
    backface-visibility:hidden;
    overflow:hidden;
    border:2px solid gold;
}

/* ‚úÖ ‡πÉ‡∏ä‡πâ URL ‡πÄ‡∏ï‡πá‡∏° */
.front{
    background:url("https://nattapong55.github.io/Bow/13D5B6B3-91B5-4A63-BFEC-C09AF3BDD8BA.png") center/cover no-repeat;
}

.back{
    transform:rotateY(180deg);
}

.back img{
    width:100%;
    height:100%;
    object-fit:cover;
}

.reversed{
    transform:rotate(180deg);
}

.centerFly{
    position:fixed !important;
    left:50% !important;
    top:50% !important;
    transform:translate(-50%,-50%) scale(1.6) !important;
    z-index:999;
}

.centerRow{
    position:relative !important;
    display:inline-block;
    margin:10px;
}

button{
    padding:14px 28px;
    border:none;
    border-radius:14px;
    background:linear-gradient(45deg,#9333ea,#facc15);
    color:white;
    font-size:18px;
}

</style>
</head>

<body>

<h1>üîÆ ‡πÑ‡∏û‡πà‡∏ó‡∏≤‡πÇ‡∏£‡∏ï‡πå‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏• üîÆ</h1>

<input id="question" placeholder="‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°..."
style="padding:10px;border-radius:10px;border:none;">
<br><br>

<button onclick="start()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà</button>

<div id="cards"></div>
<div id="result" style="max-width:700px;margin:auto;margin-top:20px;"></div>

<script>

/* ‡πÑ‡∏û‡πà */
const deck = [
"The_Fool.png","The_Magician.png","The_High_Priestess.png",
"The_Empress.png","The_Emperor.png","The_Lovers.png",
"The_Chariot.png","Strength.png","The_Hermit.png",
"Wheel_of_Fortune.png","Justice.png","The_Hanged_Man.png",
"Death.png","Temperance.png","The_Devil.png",
"The_Tower.png","The_Star.png","The_Moon.png",
"The_Sun.png","Judgement.png","The_World.png"
];

let selected = 0;
let chosen = [];

function speakAI(text){
    const speech = new SpeechSynthesisUtterance(text);
    speech.lang = "th-TH";
    speech.rate = 0.9;
    speechSynthesis.cancel();
    speechSynthesis.speak(speech);
}

function start(){

    selected = 0;
    chosen = [];

    document.getElementById("result").innerHTML = "";
    const cardsDiv = document.getElementById("cards");
    cardsDiv.innerHTML = "";

    let shuffled = [...deck].sort(()=>Math.random()-0.5).slice(0,12);

    shuffled.forEach((name,index)=>{

        const angle = (360 / shuffled.length) * index;

        const card = document.createElement("div");
        card.className="card";
        card.style.transform = `translate(-50%,-50%) rotate(${angle}deg)`;

        const inner = document.createElement("div");
        inner.className="inner";

        const front = document.createElement("div");
        front.className="front";

        const back = document.createElement("div");
        back.className="back";

        const img = document.createElement("img");

        /* üî• ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å GitHub */
        img.src = "https://nattapong55.github.io/Bow/" + name;

        back.appendChild(img);
        inner.appendChild(front);
        inner.appendChild(back);
        card.appendChild(inner);

        card.onclick=()=>pick(card,inner,name,img);

        cardsDiv.appendChild(card);

    });

}

function pick(card,inner,name,img){

    if(selected>=3) return;

    card.classList.add("centerFly");
    setTimeout(()=>inner.classList.add("flip"),400);

    let reversed = Math.random()<0.5;
    if(reversed) img.classList.add("reversed");

    chosen.push({
        el:card,
        name:name.replace(".png","").replaceAll("_"," "),
        reversed:reversed
    });

    selected++;

    if(selected===3){
        setTimeout(showFinalCards,1400);
    }
}

function showFinalCards(){

    const cardsDiv = document.getElementById("cards");
    cardsDiv.innerHTML="";

    chosen.forEach(c=>{
        c.el.classList.remove("centerFly");
        c.el.classList.add("centerRow");
        cardsDiv.appendChild(c.el);
    });

    analyze();
}

function generateAI(card){

return `‚ú® ‡πÑ‡∏û‡πà ${card} ‡πÑ‡∏î‡πâ‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì ‚ú®

‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏ì
‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∏‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï

‡∏à‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏î‡πâ‡∏ß‡∏¢‡∏´‡∏±‡∏ß‡πÉ‡∏à

‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏™‡∏°‡∏≠`;
}

function analyze(){

    let text = "üîÆ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà üîÆ\n\n";
    const pos = ["‡∏≠‡∏î‡∏µ‡∏ï","‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô","‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï"];

    chosen.forEach((c,i)=>{
        text += pos[i]+" : "+c.name+(c.reversed?" (‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß)":"")+"\n";
    });

    chosen.forEach(c=>{
        text += "\n\n" + generateAI(c.name);
    });

    document.getElementById("result").innerText = text;
    speakAI(text);
}

</script>

</body>
</html>
