<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>üîÆ Cosmic Tarot AI</title>

<style>

body{
    margin:0;
    font-family:'Prompt',sans-serif;
    background: radial-gradient(circle at top,#070012,#14002b,#000);
    color:white;
    text-align:center;
    overflow-x:hidden;
}

/* ‡∏î‡∏≤‡∏ß */
.star{
    position:absolute;
    width:2px;
    height:2px;
    background:white;
    border-radius:50%;
    animation:twinkle 2s infinite alternate;
}

@keyframes twinkle{
    from{opacity:.2}
    to{opacity:1}
}

/* ‡∏õ‡∏∏‡πà‡∏° */
button{
    padding:14px 28px;
    border:none;
    border-radius:30px;
    background:linear-gradient(45deg,#7b2cff,#ff4fd8);
    color:white;
    font-size:18px;
    cursor:pointer;
    margin:15px;
    box-shadow:0 0 20px #ff99ff;
}

/* ‡πÑ‡∏û‡πà */
.cards{
    display:flex;
    justify-content:center;
    gap:25px;
    flex-wrap:wrap;
    margin-top:30px;
}

.card{
    width:180px;
    height:280px;
    perspective:1000px;
    cursor:pointer;
}

.inner{
    width:100%;
    height:100%;
    position:relative;
    transform-style:preserve-3d;
    transition:1s;
}

.card.flip .inner{
    transform:rotateY(180deg);
}

.front,.back{
    position:absolute;
    inset:0;
    border-radius:14px;
    backface-visibility:hidden;
}

.front{
    background:linear-gradient(45deg,#1a0033,#4b00ff);
    border:2px solid #d0aaff;
    box-shadow:0 0 25px #c266ff;
}

.back{
    transform:rotateY(180deg);
    background-size:cover;
    background-position:center;
    background-repeat:no-repeat;
    border:2px solid white;
}

/* ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå */
.magic{
    position:absolute;
    width:6px;
    height:6px;
    background:#ff99ff;
    border-radius:50%;
    animation:float 3s linear forwards;
}

@keyframes float{
    to{
        transform:translateY(-200px);
        opacity:0;
    }
}

#result{
    max-width:650px;
    margin:auto;
    margin-top:30px;
    line-height:1.7;
    color:#ffd6ff;
}

input{
    padding:10px;
    width:250px;
    border-radius:10px;
    border:none;
    margin-top:10px;
}

</style>
</head>

<body>

<h1>üîÆ ‡πÑ‡∏û‡πà‡∏ó‡∏≤‡πÇ‡∏£‡∏ï‡πå‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏• AI üîÆ</h1>

<p>‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà 3 ‡πÉ‡∏ö</p>

<input id="question" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á">

<br>
<button onclick="start()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏¥‡∏ò‡∏µ</button>

<div class="cards" id="cards"></div>

<div id="result"></div>

<audio id="magicSound">
<source src="magic.mp3">
</audio>

<script>

/* ‡∏î‡∏≤‡∏ß */
for(let i=0;i<180;i++){
    let s=document.createElement("div");
    s.className="star";
    s.style.left=Math.random()*100+"%";
    s.style.top=Math.random()*100+"%";
    document.body.appendChild(s);
}

/* ===== ‡πÑ‡∏û‡πà ===== */

const tarotNames = [
"The Fool","The Magician","The High Priestess","The Empress","The Emperor",
"The Hierophant","The Lovers","The Chariot","Strength","The Hermit",
"Wheel of Fortune","Justice","The Hanged Man","Death","Temperance",
"The Devil","The Tower","The Star","The Moon","The Sun",
"Judgement","The World"
];

const suits=["cups","pentacles","swords","wands"];
const ranks=["ace","two","three","four","five","six","seven","eight","nine","ten","page","knight","queen","king"];

let tarot=[];

function formatFile(name){
    return name.toLowerCase().replace(/ /g,"_");
}

/* Major */
tarotNames.forEach(n=>{
    tarot.push({
        name:n,
        file:formatFile(n),
        meaning:"‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á ‡πÅ‡∏•‡∏∞‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏°‡πà"
    });
});

/* Minor */
suits.forEach(s=>{
    ranks.forEach(r=>{
        let n = r+" of "+s;
        tarot.push({
            name:n,
            file:formatFile(n),
            meaning:"‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô"
        });
    });
});

let picked=[];

/* ‡πÄ‡∏£‡∏¥‡πà‡∏° */
function start(){

    speak("‡∏à‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏à‡∏¥‡∏ï ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà‡∏™‡∏≤‡∏°‡πÉ‡∏ö");

    picked=[];

    const area=document.getElementById("cards");
    area.innerHTML="";

    for(let i=0;i<6;i++){

        let index=Math.floor(Math.random()*tarot.length);

        let card=document.createElement("div");
        card.className="card";

        card.innerHTML=`
        <div class="inner">
            <div class="front"></div>
            <div class="back"></div>
        </div>
        `;

        card.onclick=()=>selectCard(card,index);

        area.appendChild(card);
    }
}

/* ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å */
function selectCard(card,index){

    if(picked.length>=3) return;

    document.getElementById("magicSound").play();

    let reversed=Math.random()<0.5;

    card.classList.add("flip");

    let data=tarot[index];

    let back=card.querySelector(".back");
    back.style.backgroundImage=`url(cards/${data.file}.jpg)`;

    if(reversed){
        back.style.transform="rotateY(180deg) rotate(180deg)";
    }

    picked.push({data,reversed});

    magic(card);

    if(picked.length===3){
        showResult();
    }
}

/* ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå */
function magic(el){

    for(let i=0;i<25;i++){

        let m=document.createElement("div");
        m.className="magic";

        let rect=el.getBoundingClientRect();

        m.style.left=rect.left+rect.width/2+"px";
        m.style.top=rect.top+rect.height/2+"px";

        document.body.appendChild(m);

        setTimeout(()=>m.remove(),3000);
    }
}

/* ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå */
function showResult(){

    const pos=["‡∏≠‡∏î‡∏µ‡∏ï","‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô","‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï"];
    let question=document.getElementById("question").value;

    let text=`<h2>‚ú® ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ ‚ú®</h2>`;

    picked.forEach((p,i)=>{

        text+=`
        <b>${pos[i]}: ${p.data.name}</b>
        ${p.reversed?"(‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß)":""}
        <br>${p.data.meaning}
        <hr>`;
    });

    text+=`
    <h3>üîÆ AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</h3>
    ‡πÑ‡∏û‡πà‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≤‡∏°‡πÉ‡∏ö‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö "${question}" 
    ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
    ‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏ô‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏ç‡∏≤‡∏ì‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á
    ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏≠‡∏Å‡πÉ‡∏ô‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ
    `;

    document.getElementById("result").innerHTML=text;

    speak("‡πÑ‡∏û‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß");
}

/* ‡πÄ‡∏™‡∏µ‡∏¢‡∏á */
function speak(text){

    let msg=new SpeechSynthesisUtterance(text);
    msg.lang="th-TH";
    speechSynthesis.speak(msg);
}

</script>

</body>
</html>
