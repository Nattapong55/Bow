<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>üîÆ Cosmic Tarot AI</title>

<style>

/* ===============================
   GLOBAL STYLE
================================ */

body{
    margin:0;
    font-family:'Prompt',sans-serif;
    background: radial-gradient(circle at center,#3b0764,#020617);
    color:white;
    text-align:center;
    overflow-x:hidden;
}

/* ===============================
   STARS BACKGROUND
================================ */

.stars{
    position:fixed;
    width:100%;
    height:100%;
    top:0;
    left:0;
    background:url('https://i.imgur.com/YKY28eT.png');
    opacity:0.25;
    z-index:-2;
}

/* ===============================
   MAGIC LIGHT EFFECT
================================ */

.magic{
    position:fixed;
    width:100%;
    height:100%;
    pointer-events:none;
    top:0;
    left:0;
    z-index:-1;
}

.spark{
    position:absolute;
    width:6px;
    height:6px;
    background:white;
    border-radius:50%;
    opacity:0.8;
    animation:float 4s linear infinite;
}

@keyframes float{
    from{
        transform:translateY(0) scale(1);
        opacity:1;
    }
    to{
        transform:translateY(-800px) scale(0);
        opacity:0;
    }
}

/* ===============================
   INPUT
================================ */

input{
    padding:14px;
    border-radius:12px;
    border:none;
    width:260px;
    font-size:16px;
}

button{
    padding:14px 26px;
    border:none;
    border-radius:14px;
    background:linear-gradient(45deg,#9333ea,#c084fc);
    color:white;
    font-size:18px;
    cursor:pointer;
    margin-top:10px;
    box-shadow:0 0 20px rgba(192,132,252,0.6);
}

/* ===============================
   CARD AREA
================================ */

#cards{
    display:flex;
    justify-content:center;
    flex-wrap:wrap;
    gap:25px;
    margin-top:40px;
}

/* ===============================
   CARD STYLE
================================ */

.card{
    width:150px;
    height:250px;
    perspective:1000px;
    cursor:pointer;
}

.inner{
    width:100%;
    height:100%;
    position:relative;
    transform-style:preserve-3d;
    transition:0.8s;
}

.flip{
    transform:rotateY(180deg);
}

.front, .back{
    position:absolute;
    width:100%;
    height:100%;
    border-radius:15px;
    backface-visibility:hidden;
    box-shadow:0 0 25px rgba(168,85,247,0.8);
}

.front{
    background:url("card-back.png") center/cover;
}

.back{
    transform:rotateY(180deg);
}

.back img{
    width:100%;
    height:100%;
    border-radius:15px;
}

/* ===============================
   REVERSED CARD
================================ */

.reversed{
    transform:rotate(180deg);
}

/* ===============================
   RESULT PANEL
================================ */

#result{
    max-width:750px;
    margin:30px auto;
    padding:20px;
    border-radius:15px;
    background:rgba(0,0,0,0.45);
    box-shadow:0 0 20px rgba(192,132,252,0.4);
    white-space:pre-line;
}

</style>
</head>

<body>

<div class="stars"></div>
<div class="magic" id="magic"></div>

<h1>üîÆ ‡πÑ‡∏û‡πà‡∏ó‡∏≤‡πÇ‡∏£‡∏ï‡πå‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏• üîÆ</h1>
<p>‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà 3 ‡πÉ‡∏ö</p>

<input id="question" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á">
<br>
<button onclick="start()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà</button>

<div id="cards"></div>
<div id="result"></div>

<script>

/* ==================================================
   ELEVENLABS CONFIG
================================================== */

const ELEVEN_KEY = "PUT_API_KEY_HERE";
const VOICE_ID = "EXAVITQu4vr4xnSDxMaL";

/* ==================================================
   SOUND EFFECTS
================================================== */

const shuffleSound = new Audio("shuffle.mp3");
const flipSound = new Audio("flip.mp3");
const windSound = new Audio("wind.mp3");

shuffleSound.volume = 0.8;
flipSound.volume = 0.9;
windSound.volume = 0.7;

/* ==================================================
   TAROT DECK (‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°)
================================================== */

const deck = [
"The_Fool.png","The_Magician.png","The_High_Priestess.png","The_Empress.png",
"The_Emperor.png","The_Hierophant.png","The_Lovers.png","The_Chariot.png",
"Strength.png","The_Hermit.png","Wheel_of_Fortune.png","Justice.png",
"The_Hanged_Man.png","Death.png","Temperance.png","The_Devil.png",
"The_Tower.png","The_Star.png","The_Moon.png","The_Sun.png",
"Judgement.png","The_World.png"
];

/* ==================================================
   STATE
================================================== */

let selected = 0;
let chosen = [];

/* ==================================================
   MAGIC PARTICLES
================================================== */

function createMagic(){

    const area = document.getElementById("magic");

    for(let i=0;i<40;i++){

        let s = document.createElement("div");
        s.className = "spark";

        s.style.left = Math.random()*100+"%";
        s.style.top = Math.random()*100+"%";
        s.style.animationDuration = (2+Math.random()*4)+"s";

        area.appendChild(s);
    }
}

createMagic();

/* ==================================================
   ELEVENLABS VOICE
================================================== */

async function speak(text){

    try{

        const res = await fetch(
            `https://api.elevenlabs.io/v1/text-to-speech/${VOICE_ID}`,
            {
                method:"POST",
                headers:{
                    "xi-api-key":ELEVEN_KEY,
                    "Content-Type":"application/json"
                },
                body:JSON.stringify({
                    text:text,
                    model_id:"eleven_multilingual_v2"
                })
            }
        );

        const blob = await res.blob();
        const url = URL.createObjectURL(blob);

        const audio = new Audio(url);
        audio.play();

    }catch(e){
        console.log("voice error",e);
    }
}

/* ==================================================
   START GAME
================================================== */

function start(){

    shuffleSound.currentTime = 0;
    shuffleSound.play();

    selected = 0;
    chosen = [];

    document.getElementById("result").innerHTML = "";

    const cardsDiv = document.getElementById("cards");
    cardsDiv.innerHTML = "";

    let shuffled = [...deck]
        .sort(()=>Math.random()-0.5)
        .slice(0,6);

    shuffled.forEach(name=>{

        const card = document.createElement("div");
        card.className = "card";

        const inner = document.createElement("div");
        inner.className = "inner";

        const front = document.createElement("div");
        front.className = "front";

        const back = document.createElement("div");
        back.className = "back";

        const img = document.createElement("img");
        img.src = name;

        back.appendChild(img);
        inner.appendChild(front);
        inner.appendChild(back);
        card.appendChild(inner);

        card.onclick = ()=>pickCard(inner,name,img);

        cardsDiv.appendChild(card);

    });

}

/* ==================================================
   PICK CARD
================================================== */

function pickCard(inner,name,img){

    if(selected >= 3) return;

    flipSound.currentTime = 0;
    flipSound.play();

    selected++;

    inner.classList.add("flip");

    let reversed = Math.random() < 0.5;

    if(reversed){
        img.classList.add("reversed");
    }

    chosen.push({
        name:name.replace(".png",""),
        reversed:reversed
    });

    if(selected === 3){

        setTimeout(()=>{
            windSound.play();
            analyze();
        },1200);

    }

}

/* ==================================================
   AI ANALYSIS (20 lines)
================================================== */

function generateAI(question){

    let lines = [];

    lines.push("‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÇ‡∏î‡∏¢‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡πÑ‡∏û‡πà‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏ñ‡∏∂‡∏á‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï");
    lines.push("‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ú‡∏ä‡∏¥‡∏ç‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏±‡∏á‡πÄ‡∏≠‡∏¥‡∏ç ‡πÅ‡∏ï‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏•‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤");
    lines.push("‡∏°‡∏µ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏Ç‡∏≠‡∏á‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤");
    lines.push("‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏Å‡πá‡∏ï‡∏≤‡∏° ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡πâ‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á");
    lines.push("‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡πÉ‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏¥‡∏î");
    lines.push("‡∏ö‡∏≤‡∏á‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏à‡∏ö ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏°‡πà");
    lines.push("‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì");
    lines.push("‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏•‡∏±‡∏á‡πÄ‡∏• ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏≠‡∏≤‡∏à‡∏ä‡πâ‡∏≤‡∏•‡∏á");
    lines.push("‡πÑ‡∏û‡πà‡∏ö‡∏≠‡∏Å‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏ó‡∏≤‡∏á‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô");
    lines.push("‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πà‡∏≤‡∏ß‡∏î‡∏µ‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏Å‡∏•‡πâ");
    lines.push("‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏≠‡∏≤‡∏à‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠");
    lines.push("‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏ß‡∏±‡∏á‡∏°‡∏µ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á");
    lines.push("‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏•‡∏ö");
    lines.push("‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏ç‡∏≤‡∏ì‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ");
    lines.push("‡∏≠‡∏¢‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ß‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á");
    lines.push("‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
    lines.push("‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤");
    lines.push("‡∏´‡∏≤‡∏Å‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ñ‡∏≤‡∏î");
    lines.push("‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Ñ‡∏∏‡∏ì");
    lines.push("‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏°‡∏µ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏™‡∏î‡πÉ‡∏™‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏≤‡∏Å");

    return lines.join("\n");
}

/* ==================================================
   ANALYZE RESULT
================================================== */

function analyze(){

    const question =
        document.getElementById("question").value || "‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï";

    let text = "üîÆ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà üîÆ\n\n";

    const pos = ["‡∏≠‡∏î‡∏µ‡∏ï","‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô","‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï"];

    chosen.forEach((c,i)=>{

        text += pos[i]+" : "+c.name+
        (c.reversed?" (‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß)":"")+"\n";

    });

    text += "\nüß† AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå\n\n";

    text += generateAI(question);

    document.getElementById("result").innerText = text;

    speak(text);

}

</script>

</body>
</html>
